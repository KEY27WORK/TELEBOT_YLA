# üìè Domain: Size Chart
–ß–∏—Å—Ç–∏–π –ø–∞–∫–µ—Ç –¥–ª—è –ø–æ—à—É–∫—É –π –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó —Ç–∞–±–ª–∏—Ü—å —Ä–æ–∑–º—ñ—Ä—ñ–≤. –ú—ñ—Å—Ç–∏—Ç—å –ª–∏—à–µ DTO/–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∏ ‚Äî —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –∂–∏–≤—É—Ç—å —É `infrastructure/size_chart`.

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞
```bash
size_chart/
‚îú‚îÄ‚îÄ üìò README.md
‚îú‚îÄ‚îÄ __init__.py               # –ï–∫—Å–ø–æ—Ä—Ç—É—î Stage/ProgressEvent/ProgressFn —Ç–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª–∏
‚îî‚îÄ‚îÄ interfaces.py             # –ö–æ–Ω—Ç—Ä–∞–∫—Ç–∏ ISizeChartFinder / ISizeChartService, DTO –ø—Ä–æ–≥—Ä–µ—Å—É
```

---

## üß± –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è
- –í–∏–∑–Ω–∞—á–∞—î —Å—Ç–∞–¥—ñ—ó –æ–±—Ä–æ–±–∫–∏ —Ç–∞–±–ª–∏—Ü—å (`Stage`: queued/started/done).
- –û–ø–∏—Å—É—î –ø–æ–¥—ñ—é –ø—Ä–æ–≥—Ä–µ—Å—É `ProgressEvent` —ñ callback `ProgressFn` –¥–ª—è —Å—Ç—Ä—ñ–º–∫–∏—Ö –æ–Ω–æ–≤–ª–µ–Ω—å.
- –ü—É–±–ª—ñ–∫—É—î –ø—Ä–æ—Ç–æ–∫–æ–ª–∏ `ISizeChartFinder` (–ø–æ—à—É–∫ —Ç–∞–±–ª–∏—á–Ω–∏—Ö –∑–æ–±—Ä–∞–∂–µ–Ω—å) —ñ `ISizeChartService` (–æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü—ñ—è –ø–æ–≤–Ω–æ–≥–æ —Ü–∏–∫–ª—É) –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ–π.

---

## üß© –ö–ª—é—á–æ–≤—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏
- **`Stage`** ‚Äî Enum —ñ–∑ —Ç—Ä—å–æ–º–∞ –µ—Ç–∞–ø–∞–º–∏, –∑—Ä—É—á–Ω–∏–π –¥–ª—è –º–µ—Ç—Ä–∏–∫/UX —Ç–∞ –ª–æ–≥—ñ–≤.
- **`ProgressEvent`** ‚Äî dataclass –∑—ñ —Å—Ç–∞–¥—ñ—î—é, URL —Ç–∞ —Ç–∏–ø–æ–º —Ç–∞–±–ª–∏—Ü—ñ (`ChartType`).
- **`ProgressFn`** ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–π callback, —è–∫–∏–π —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –≤–∏–∫–ª–∏–∫–∞—î –Ω–∞ –∫–æ–∂–Ω–æ–º—É –µ—Ç–∞–ø—ñ.
- **`ISizeChartFinder`** ‚Äî –∫–æ–Ω—Ç—Ä–∞–∫—Ç –ø–æ—à—É–∫—É (HTML ‚Üí —Å–ø–∏—Å–æ–∫ `(Url, ChartType)`).
- **`ISizeChartService`** ‚Äî —Å–µ—Ä–≤—ñ—Å, —â–æ –∫–æ–º–±—ñ–Ω—É—î –ø–æ—à—É–∫, OCR/–≥–µ–Ω–µ—Ä–∞—Ü—ñ—é —Ç–∞ –≤—ñ–¥–¥–∞—î —à–ª—è—Ö–∏ –¥–æ PNG.

---

## üöÄ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
```python
from app.domain.size_chart import ISizeChartService

async def handle_page(service: ISizeChartService, html: str) -> None:
    results = await service.process_all_size_charts(page_source=html)
    for path in results:
        print("‚ñ™Ô∏è –ó–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–∞ —Ç–∞–±–ª–∏—Ü—è:", path)
```

---

## ‚úÖ –ü—Ä–∏–º—ñ—Ç–∫–∏
- –ü–∞–∫–µ—Ç –Ω–µ –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö –±—Ä–∞—É–∑–µ—Ä—ñ–≤ —á–∏ OCR ‚Äî –ª–∏—à–µ –≤—ñ–¥ –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ–π.
- –©–æ–± –≤—ñ–¥—Å—Ç–µ–∂—É–≤–∞—Ç–∏ –ø—Ä–æ–≥—Ä–µ—Å, –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ `on_progress: ProgressFn` (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–π callback).
- –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è–º –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–æ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –ø–æ–±—ñ—á–Ω—ñ –µ—Ñ–µ–∫—Ç–∏ —É `__init__`; —É—Å–µ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è —É –º–µ—Ç–æ–¥–∞—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª—É.
