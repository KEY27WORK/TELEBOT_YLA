# üèóÔ∏è infrastructure
–ú—ñ—Å—Ç –º—ñ–∂ –¥–æ–º–µ–Ω–æ–º —Ç–∞ –∑–æ–≤–Ω—ñ—à–Ω—ñ–º —Å–≤—ñ—Ç–æ–º: –∞–¥–∞–ø—Ç–µ—Ä–∏, –∫–ª—ñ—î–Ω—Ç–∏, —Å–µ—Ä–≤—ñ—Å–∏ —Ç–∞ –æ–±—Ä–æ–±–Ω–∏–∫–∏, —è–∫—ñ –ø—Ä–∞—Ü—é—é—Ç—å —ñ–∑ Telegram, OpenAI, –≤–∞–ª—é—Ç–∞–º–∏, availability —Ç–∞ —ñ–Ω—à–∏–º–∏ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è–º–∏.

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞
```
infrastructure/
‚îú‚îÄ‚îÄ üìò README.md
‚îú‚îÄ‚îÄ üìÇ adapters
‚îú‚îÄ‚îÄ üìÇ ai
‚îú‚îÄ‚îÄ üìÇ availability
‚îú‚îÄ‚îÄ üìÇ collection_processing
‚îú‚îÄ‚îÄ üìÇ content
‚îú‚îÄ‚îÄ üìÇ currency
‚îú‚îÄ‚îÄ üìÇ data_storage
‚îú‚îÄ‚îÄ üìÇ delivery
‚îú‚îÄ‚îÄ üìÇ image_generation
‚îú‚îÄ‚îÄ üìÇ music
‚îú‚îÄ‚îÄ üìÇ parsers
‚îú‚îÄ‚îÄ üìÇ services
‚îú‚îÄ‚îÄ üìÇ size_chart
‚îú‚îÄ‚îÄ üìÇ url
‚îî‚îÄ‚îÄ üìÇ web
```

---

## üß≠ –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è
- –£–∑–≥–æ–¥–∂—É–≤–∞—Ç–∏ –¥–æ–º–µ–Ω–Ω—ñ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∏ (`Protocol`, DTO) –∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–º–∏ —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–∏–º–∏ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è–º–∏ —Ç–∞ SDK.  
- –Ü–Ω–∫–∞–ø—Å—É–ª—é–≤–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö API (OpenAI, Telegram, Meest, YouTube, –≤–∞–ª—é—Ç–Ω—ñ —Å–µ—Ä–≤—ñ—Å–∏ —Ç–æ—â–æ).  
- –ó–∞–±–µ–∑–ø–µ—á—É–≤–∞—Ç–∏ –∫—Ä–æ—Å-–º–æ–¥—É–ª—å–Ω—ñ —Å–µ—Ä–≤—ñ—Å–∏: –∫–µ—à—ñ, —Ñ–æ—Ä–º–∞—Ç–µ—Ä–∏, –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∏ –∫–æ–Ω—Ç–µ–Ω—Ç—É/—Ç–∞–±–ª–∏—Ü—å, –æ–±—Ä–æ–±–Ω–∏–∫–∏ –ø–∞—Ä—Å–µ—Ä—ñ–≤.  
- –ù–∞–¥–∞—Ç–∏ —î–¥–∏–Ω–∏–π —à–∞—Ä –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó, –ª–æ–≥—É–≤–∞–Ω–Ω—è —Ç–∞ —Ç–µ–ª–µ–º–µ—Ç—Ä—ñ—ó –¥–ª—è –≤—Å—ñ—Ö —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π.  
- –°–ø—Ä–æ—â—É–≤–∞—Ç–∏ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è ‚Äî –±—ñ–ª—å—à—ñ—Å—Ç—å –ø–∞–∫–µ—Ç—ñ–≤ –º–∞—é—Ç—å –∞–¥–∞–ø—Ç–µ—Ä–∏/—Ñ–∞—Å–∞–¥–∏, —è–∫—ñ –ª–µ–≥–∫–æ –º–æ–∫–∞—Ç–∏.

---

## üß© –ö–ª—é—á–æ–≤—ñ –ø—ñ–¥–ø–∞–∫–µ—Ç–∏
- **`adapters/`** ‚Äî —Ç–æ–Ω–∫—ñ –æ–±–≥–æ—Ä—Ç–∫–∏, —â–æ –≤–∏—Ä—ñ–≤–Ω—é—é—Ç—å —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `HashtagGeneratorStringAdapter`, `PriceMessageFacade`).  
- **`ai/`** ‚Äî —Ä–æ–±–æ—Ç–∞ –∑ LLM: `PromptService`, `OpenAIService`, `AITaskService`, —Ç–µ–ª–µ–º–µ—Ç—Ä—ñ—è, DTO.  
- **`availability/`** ‚Äî –ø–æ–≤–Ω–∏–π —Å—Ç–µ–∫ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ: `AvailabilityHandler`, –º–µ–Ω–µ–¥–∂–µ—Ä —Ä–µ–≥—ñ–æ–Ω—ñ–≤, –∫–µ—à, –º–µ—Ç—Ä–∏–∫–∏, —Ñ–æ—Ä–º–∞—Ç–µ—Ä–∏.  
- **`collection_processing/`** ‚Äî pipelines –æ–±—Ä–æ–±–∫–∏ –∫–æ–ª–µ–∫—Ü—ñ–π —Ç–æ–≤–∞—Ä—ñ–≤ (—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏ –¥–ª—è batch-–∑–∞–≤–¥–∞–Ω—å).  
- **`content/`** ‚Äî AI/ML –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –∫–æ–Ω—Ç–µ–Ω—Ç—É: —Ö–µ—à—Ç–µ–≥–∏, alt-text, gender classifier, product content/header services.  
- **`currency/`** ‚Äî –º–µ–Ω–µ–¥–∂–µ—Ä –∫—É—Ä—Å—ñ–≤, –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä, –∑—á–∏—Ç—É–≤–∞–Ω–Ω—è –ø–æ—Ç–æ—á–Ω–æ–≥–æ –∫—É—Ä—Å—É.  
- **`data_storage/`** ‚Äî –ø—Ä–æ—Å—Ç—ñ —Å–µ—Ä–≤—ñ—Å–∏ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `weight_data_service`).  
- **`delivery/`** ‚Äî —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Meest —Ç–∞ —ñ–Ω—à–∏–º–∏ —Å–ª—É–∂–±–∞–º–∏ –¥–æ—Å—Ç–∞–≤–∫–∏.  
- **`image_generation/`** ‚Äî –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∏ –≥—Ä–∞—Ñ—ñ–∫–∏/—à—Ä–∏—Ñ—Ç—ñ–≤ –¥–ª—è —Ç–∞–±–ª–∏—Ü—å —Ä–æ–∑–º—ñ—Ä—ñ–≤ —ñ UI.  
- **`music/`** ‚Äî –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ç–∞ –Ω–∞–¥—Å–∏–ª–∞–Ω–Ω—è –º—É–∑–∏–∫–∏, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó, –∫–µ—à—É–≤–∞–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤.  
- **`parsers/`** ‚Äî —Ñ–∞–±—Ä–∏–∫–∞ –ø–∞—Ä—Å–µ—Ä—ñ–≤, –µ–∫—Å—Ç—Ä–∞–∫—Ç–æ—Ä–∏, –ø–æ—à—É–∫ —Ç–æ–≤–∞—Ä—ñ–≤, contracts.  
- **`services/`** ‚Äî —Å–µ—Ä–≤—ñ—Å–Ω—ñ —Ñ–∞—Å–∞–¥–∏ (`availability_facade`, `music_facade`) —Ç–∞ —É–∑–∞–≥–∞–ª—å–Ω–µ–Ω—ñ –æ–±—Ä–æ–±–Ω–∏–∫–∏.  
- **`size_chart/`** ‚Äî –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∏ —Ç–∞–±–ª–∏—Ü—å, OCR-—Å–µ—Ä–≤—ñ—Å–∏, DTO –π –¥–æ–ø–æ–º—ñ–∂–Ω—ñ —Å–µ—Ä–≤—ñ—Å–∏.  
- **`url/`** ‚Äî —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó —Ç–∞ —É—Ç–∏–ª—ñ—Ç–∏ —Ä–æ–±–æ—Ç–∏ –∑ YoungLA —Ç–∞ —ñ–Ω—à–∏–º–∏ URL.  
- **`web/`** ‚Äî `WebDriverService` —Ç–∞ —ñ–Ω—à—ñ –≤–µ–±-—É—Ç–∏–ª—ñ—Ç–∏.

---

## üöÄ –ü—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
```python
from app.config.config_service import ConfigService
from app.infrastructure.ai import AITaskService, OpenAIService, PromptService
from app.infrastructure.availability import AvailabilityHandler, AvailabilityProcessingService
from app.bot.ui.messengers.availability_messenger import AvailabilityMessenger

cfg = ConfigService()

# AI: LLM –¥–ª—è –≤–∞–≥–∏/–ø–µ—Ä–µ–∫–ª–∞–¥—ñ–≤
openai_client = OpenAIService(cfg)
prompt_builder = PromptService(cfg)
ai_tasks = AITaskService(openai_client, prompt_builder)
slogan = await ai_tasks.generate_slogan(title="YoungLA Tee", description="heavyweight fit")

# Availability: –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ç–æ–≤–∞—Ä—É
processing = AvailabilityProcessingService(
    manager=...,  # AvailabilityManager
    header_service=...,
    url_parser_service=...,
    config=cfg,
)
handler = AvailabilityHandler(processing_service=processing, messenger=AvailabilityMessenger(...))
await handler.handle_price_availability(update, context, url="https://shop.example/item")
```

---

## ‚úÖ –ü—Ä–∏–º—ñ—Ç–∫–∏
- –ö–æ–∂–µ–Ω –ø—ñ–¥–∫–∞—Ç–∞–ª–æ–≥ –º–∞—î –≤–ª–∞—Å–Ω–∏–π README —Ç–∞ –ø—É–±–ª—ñ—á–Ω–∏–π API –≤ `__init__.py`; –ø—ñ–¥—Ç—Ä–∏–º—É–π —ó—Ö —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–æ–≤–∞–Ω–∏–º–∏.  
- –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –¥–ª—è —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π (OpenAI, Meest, –≤–∞–ª—é—Ç–Ω–∏–π API) –∑—á–∏—Ç—É—î—Ç—å—Å—è —á–µ—Ä–µ–∑ `ConfigService` ‚Äî –æ–ø–∏—Å —à—É–∫–∞–π —É README –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏—Ö –ø–∞–∫–µ—Ç—ñ–≤.  
- –ë—ñ–ª—å—à—ñ—Å—Ç—å —Å–µ—Ä–≤—ñ—Å—ñ–≤ —É–∂–µ –ª–æ–≥—É—é—Ç—å –≤–∏–∫–ª–∏–∫–∏ —á–µ—Ä–µ–∑ `app.shared.utils.logger.LOG_NAME`; –¥–æ–¥–∞—é—á–∏ –Ω–æ–≤—ñ –º–æ–¥—É–ª—ñ, –Ω–∞—Å–ª—ñ–¥—É–π —Ü–µ–π —Å—Ç–∏–ª—å.  
- –î–ª—è —Ç–µ—Å—Ç—ñ–≤ –º–æ–∫–∞–π —Ñ–∞—Å–∞–¥–∏/adapters ‚Äî —Ü–µ –¥–æ–∑–≤–æ–ª—è—î –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ –¥–æ–º–µ–Ω, –Ω–µ —Ç–æ—Ä–∫–∞—é—á–∏—Å—å –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö API.
