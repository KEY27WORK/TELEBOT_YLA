# üìä app/shared/metrics/content.py
# -*- coding: utf-8 -*-
"""
üìä –ú–µ—Ç—Ä–∏–∫–∏ Prometheus –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó ALT-—Ç–µ–∫—Å—Ç—ñ–≤.

üîπ –§—ñ–∫—Å—É—î —É—Å–ø—ñ—à–Ω—ñ –π –Ω–µ–≤–¥–∞–ª—ñ —Å–ø—Ä–æ–±–∏ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –∫–æ–Ω—Ç–µ–Ω—Ç—É.
üîπ –í—ñ–¥—Å—Ç–µ–∂—É—î –∑–≤–µ—Ä–Ω–µ–Ω–Ω—è –¥–æ –∫–µ—à—É –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–∏—Ö ALT-—Ç–µ–∫—Å—Ç—ñ–≤.
üîπ –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —Å–µ—Ä–≤—ñ—Å–∞–º–∏ –∫–æ–Ω—Ç–µ–Ω—Ç—É —Ç–∞ AI –¥–ª—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É —è–∫–æ—Å—Ç—ñ.
"""

from __future__ import annotations

# üåê –ó–æ–≤–Ω—ñ—à–Ω—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏
from prometheus_client import Counter  # üìà –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –ª—ñ—á–∏–ª—å–Ω–∏–∫—ñ–≤ Prometheus

# ================================
# ‚úÖ –£–°–ü–Ü–•–ò –ì–ï–ù–ï–†–ê–¶–Ü–á ALT-–¢–ï–ö–°–¢–Ü–í
# ================================
ALT_SUCCESS = Counter(
    "alt_text_success_total",                               # üÜî –Ü–º'—è –º–µ—Ç—Ä–∏–∫–∏
    "Successful ALT text generations",                      # üìù –û–ø–∏—Å –º–µ—Ç—Ä–∏–∫–∏
    labelnames=("source",),                                 # üîñ –î–∂–µ—Ä–µ–ª–æ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, "ai")
)

# ================================
# ‚ùå –ó–ë–û–á –ì–ï–ù–ï–†–ê–¶–Ü–á ALT-–¢–ï–ö–°–¢–Ü–í
# ================================
ALT_FAILURE = Counter(
    "alt_text_failure_total",                               # üÜî –õ—ñ—á–∏–ª—å–Ω–∏–∫ –Ω–µ–≤–¥–∞–ª–∏—Ö –≥–µ–Ω–µ—Ä–∞—Ü—ñ–π
    "Failed ALT text generations",                          # üìù –û–ø–∏—Å –º–µ—Ç—Ä–∏–∫–∏
    labelnames=("source", "reason"),                        # üîñ –î–∂–µ—Ä–µ–ª–æ + –ø—Ä–∏—á–∏–Ω–∞ (exception/empty/llm_parse)
)

# ================================
# ‚ôªÔ∏è –í–ì–û–î–ò –ù–ê –ö–ï–® ALT-–¢–ï–ö–°–¢–Ü–í
# ================================
ALT_CACHE_HIT = Counter(
    "alt_text_cache_hit_total",                             # üÜî –õ—ñ—á–∏–ª—å–Ω–∏–∫ –∫–µ—à-—Ö—ñ—Ç—ñ–≤
    "Cache hits for ALT texts",                             # üìù –û–ø–∏—Å –º–µ—Ç—Ä–∏–∫–∏
    labelnames=("source",),                                 # üîñ –î–∂–µ—Ä–µ–ª–æ –∫–µ—à—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, "memory")
)

# ================================
# üì¶ –ï–ö–°–ü–û–†–¢ –ú–û–î–£–õ–Ø
# ================================
__all__ = ["ALT_SUCCESS", "ALT_FAILURE", "ALT_CACHE_HIT"]
