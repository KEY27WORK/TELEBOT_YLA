# üñãÔ∏è app/domain/image_generation/interfaces.py
"""
üñãÔ∏è –î–æ–º–µ–Ω–Ω–æ-–æ—Ä—ñ—î–Ω—Ç–æ–≤–∞–Ω—ñ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∏ —à—Ä–∏—Ñ—Ç–æ–≤–æ–≥–æ —Å–µ—Ä–≤—ñ—Å—É –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –∑–æ–±—Ä–∞–∂–µ–Ω—å.

üîπ –û–ø–∏—Å—É—î —Ç–∏–ø–∏ —à—Ä–∏—Ñ—Ç—ñ–≤ —ñ —É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∏–π –∞–ª—ñ–∞—Å FontLike –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ Pillow.
üîπ –í–∏–∑–Ω–∞—á–∞—î –ø—Ä–æ—Ç–æ–∫–æ–ª IFontService –±–µ–∑ –ø—Ä–∏–≤'—è–∑–∫–∏ –¥–æ —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏.
üîπ –ñ—É—Ä–Ω–∞–ª—é—î –∫–ª—é—á–æ–≤—ñ –¥—ñ—ó (—ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —Ç–∏–ø—ñ–≤, –∑–∞–ø–∏—Ç–∏ –Ω–∞ —à—Ä–∏—Ñ—Ç–∏, –≤–∏–º—ñ—Ä—é–≤–∞–Ω–Ω—è —Ç–µ–∫—Å—Ç—É).
"""

from __future__ import annotations                                                   # ‚è≥ –î–æ–∑–≤–æ–ª—è—î –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ø—ñ–∑–Ω—ñ —Ç–∏–ø–∏

# üî† –°–∏—Å—Ç–µ–º–Ω—ñ —ñ–º–ø–æ—Ä—Ç–∏
import logging                                                                       # üßæ –í–±—É–¥–æ–≤–∞–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è
from enum import Enum                                                                # üß± –ü–æ–±—É–¥–æ–≤–∞ –ø–µ—Ä–µ–ª—ñ–∫—ñ–≤
from typing import Protocol, TypeAlias                                               # üß∞ –ü—Ä–æ—Ç–æ–∫–æ–ª–∏ —Ç–∞ –∞–ª—ñ–∞—Å–∏ —Ç–∏–ø—ñ–≤

# üåê –ó–æ–≤–Ω—ñ—à–Ω—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏
from PIL import ImageFont                                                            # üñºÔ∏è –ü–æ–≤–µ—Ä—Ç–∞—î –æ–±'—î–∫—Ç–∏ —à—Ä–∏—Ñ—Ç—ñ–≤ Pillow

# ================================
# üßæ –õ–û–ì–ï–† –ú–û–î–£–õ–Ø
# ================================
from app.shared.utils.logger import LOG_NAME                                         # üè∑Ô∏è –ë–∞–∑–æ–≤–µ —ñ–º'—è –ª–æ–≥–µ—Ä–∞ (–≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π —ñ–º–ø–æ—Ä—Ç)

MODULE_LOGGER_NAME: str = f"{LOG_NAME}.domain.image_generation.fonts"                # üè∑Ô∏è –ü—Ä–µ—Ñ—ñ–∫—Å –ª–æ–≥–µ—Ä–∞ –¥–ª—è —à—Ä–∏—Ñ—Ç–æ–≤–æ–≥–æ –¥–æ–º–µ–Ω—É
logger = logging.getLogger(MODULE_LOGGER_NAME)                                       # üßæ –°—Ç–≤–æ—Ä—é—î–º–æ –º–æ–¥—É–ª—å–Ω–∏–π –ª–æ–≥–µ—Ä
logger.debug("üñãÔ∏è –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ image_generation.interfaces")                        # üöÄ –§—ñ–∫—Å—É—î–º–æ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –º–æ–¥—É–ª—è


# ================================
# üé® –¢–ò–ü–ò –®–†–ò–§–¢–Ü–í
# ================================
class FontType(str, Enum):
    """üé® –¢–∏–ø–∏ —à—Ä–∏—Ñ—Ç—ñ–≤, —è–∫—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –≤ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É."""

    BOLD = "bold"                                                                     # üí™ –ê–∫—Ü–µ–Ω—Ç–æ–≤–∞–Ω–∏–π —à—Ä–∏—Ñ—Ç (–Ω–∞–ø–∏—Å–∏, –∑–∞–≥–æ–ª–æ–≤–∫–∏)
    MONO = "mono"                                                                     # üßÆ –ú–æ–Ω–æ—à–∏—Ä–∏–Ω–Ω–∏–π (—Ç–∞–±–ª–∏—Ü—ñ, –∫–æ–¥–∏)

    @classmethod
    def list_values(cls) -> tuple[str, str]:                                          # üßæ –î–∞—î –ø–µ—Ä–µ–ª—ñ–∫ –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω—å
        """
        –ü–æ–≤–µ—Ä—Ç–∞—î –∫–æ—Ä—Ç–µ–∂ –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω—å, —â–æ–±–∏ —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–≥–ª–∞ —à–≤–∏–¥–∫–æ –≤–∞–ª—ñ–¥–æ–≤–∞—Ç–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è.
        """
        values: tuple[str, str] = (str(cls.BOLD), str(cls.MONO))                      # üßÆ –û–±—á–∏—Å–ª—é—î–º–æ –≤—Å—ñ –≤–∞—Ä—ñ–∞–Ω—Ç–∏ —è–∫ —Ä—è–¥–∫–∏
        logger.debug("üé® FontType.list_values –≤–∏–∫–ª–∏–∫–∞–Ω–æ | values=%s", values)         # üßæ –î—ñ–∞–≥–Ω–æ—Å—Ç—É—î–º–æ –∑–∞–ø–∏—Ç
        return values                                                                 # üì§ –ü–æ–≤–µ—Ä—Ç–∞—î–º–æ —Å–ø–∏—Å–æ–∫ –∑–Ω–∞—á–µ–Ω—å


# ================================
# ‚úíÔ∏è –ê–õ–Ü–ê–° –®–†–ò–§–¢–û–í–ò–• –û–ë'–Ñ–ö–¢–Ü–í
# ================================
FontLike: TypeAlias = ImageFont.ImageFont | ImageFont.FreeTypeFont                    # üñãÔ∏è –ë—É–¥—å-—è–∫–∏–π –æ–±'—î–∫—Ç —à—Ä–∏—Ñ—Ç—É Pillow
logger.debug("‚úíÔ∏è FontLike TypeAlias –≤–∏–∑–Ω–∞—á–µ–Ω–æ | types=%s", FontLike)                  # üßæ –§—ñ–∫—Å—É—î–º–æ –∞–ª—ñ–∞—Å


# ================================
# üìê –ü–†–û–¢–û–ö–û–õ –°–ï–†–í–Ü–°–£ –®–†–ò–§–¢–Ü–í
# ================================
class IFontService(Protocol):
    """
    üìê –ö–æ–Ω—Ç—Ä–∞–∫—Ç –¥–ª—è —Å–µ—Ä–≤—ñ—Å—É —Ä–æ–±–æ—Ç–∏ –∑—ñ —à—Ä–∏—Ñ—Ç–∞–º–∏.
    –Ü–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ñ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –ø–æ–≤–∏–Ω–Ω—ñ –∑–∞–±–µ–∑–ø–µ—á–∏—Ç–∏:
      - –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —à—Ä–∏—Ñ—Ç—ñ–≤ –ø–æ—Ç—Ä—ñ–±–Ω–æ–≥–æ —Ç–∏–ø—É/—Ä–æ–∑–º—ñ—Ä—É
      - –≤–∏–º—ñ—Ä—é–≤–∞–Ω–Ω—è —à–∏—Ä–∏–Ω–∏ —Ç–µ–∫—Å—Ç—É —É –ø—ñ–∫—Å–µ–ª—è—Ö
    """

    def get_font(self, font_type: FontType, size: int) -> FontLike:                   # üÖ∞Ô∏è –ü–æ–≤–µ—Ä—Ç–∞—î –≥–æ—Ç–æ–≤–∏–π —à—Ä–∏—Ñ—Ç Pillow
        """
        –û—Ç—Ä–∏–º–∞—Ç–∏ —ñ–Ω—Å—Ç–∞–Ω—Å —à—Ä–∏—Ñ—Ç—É –∑–∞–¥–∞–Ω–æ–≥–æ —Ç–∏–ø—É —Ç–∞ —Ä–æ–∑–º—ñ—Ä—É.

        Args:
            font_type: –¢–∏–ø —à—Ä–∏—Ñ—Ç—É –∑ FontType.
            size: –†–æ–∑–º—ñ—Ä —à—Ä–∏—Ñ—Ç—É —É –ø—ñ–∫—Å–µ–ª—è—Ö.

        Returns:
            FontLike: –ì–æ—Ç–æ–≤–∏–π –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —à—Ä–∏—Ñ—Ç Pillow.
        """
        ...

    def get_text_width(self, text: str, font: FontLike) -> int:                       # üìè –û–±—á–∏—Å–ª—é—î —à–∏—Ä–∏–Ω—É —Ç–µ–∫—Å—Ç–∞
        """
        –í–∏–º—ñ—Ä—è—Ç–∏ —à–∏—Ä–∏–Ω—É —Ä—è–¥–∫–∞ —Ç–µ–∫—Å—Ç—É —É –ø—ñ–∫—Å–µ–ª—è—Ö, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π —à—Ä–∏—Ñ—Ç.

        Args:
            text: –†—è–¥–æ–∫, —è–∫–∏–π –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–º—ñ—Ä—è—Ç–∏.
            font: –®—Ä–∏—Ñ—Ç, –æ—Ç—Ä–∏–º–∞–Ω–∏–π —á–µ—Ä–µ–∑ get_font.

        Returns:
            int: –®–∏—Ä–∏–Ω–∞ —Ç–µ–∫—Å—Ç—É —É –ø—ñ–∫—Å–µ–ª—è—Ö.
        """
        ...


logger.debug("üìê IFontService protocol –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–æ–≤–∞–Ω–æ")                              # üßæ –ö–æ–Ω—Ç—Ä–∞–∫—Ç –¥–æ—Å—Ç—É–ø–Ω–∏–π


# ================================
# üîì –ü–£–ë–õ–Ü–ß–ù–ò–ô API –ú–û–î–£–õ–Ø
# ================================
__all__ = [
    "FontType",                                                                       # üé® –ü–µ—Ä–µ–ª—ñ–∫ —Ç–∏–ø—ñ–≤ —à—Ä–∏—Ñ—Ç—ñ–≤
    "FontLike",                                                                       # ‚úíÔ∏è –ê–ª—ñ–∞—Å —à—Ä–∏—Ñ—Ç–æ–≤–∏—Ö –æ–±'—î–∫—Ç—ñ–≤
    "IFontService",                                                                   # üìê –ö–æ–Ω—Ç—Ä–∞–∫—Ç —à—Ä–∏—Ñ—Ç–æ–≤–æ–≥–æ —Å–µ—Ä–≤—ñ—Å—É
]
logger.debug("üîì __all__ –æ–≥–æ–ª–æ—à–µ–Ω–æ: %s", __all__)                                     # üßæ –ü—É–±–ª—ñ—á–Ω–∏–π API –∑–∞—Ñ—ñ–∫—Å–æ–≤–∞–Ω–æ
