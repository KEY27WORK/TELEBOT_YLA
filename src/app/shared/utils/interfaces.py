# üåê app/shared/utils/interfaces.py
"""
üåê –ü—Ä–æ—Ç–æ–∫–æ–ª–∏ –¥–ª—è —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó –ø–∞—Ä—Å–∏–Ω–≥—É —Ç–∞ –Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—ó –ø—Ä–æ–¥—É–∫—Ç–æ–≤–æ–≥–æ URL.

üîπ –í–∏–∑–Ω–∞—á–∞—î –∫–æ–Ω—Ç—Ä–∞–∫—Ç –¥–ª—è –±—Ä–µ–Ω–¥–æ–≤–∏—Ö —Å—Ç—Ä–∞—Ç–µ–≥—ñ–π –∑ –≤–ª–∞—Å–Ω–∏–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏.
üîπ –û—Ö–æ–ø–ª—é—î –ø—ñ–¥—Ç—Ä–∏–º–∫—É –¥–æ–º–µ–Ω—ñ–≤, –≤–∞–ª—é—Ç, —Ä–µ–≥—ñ–æ–Ω—ñ–≤ —ñ –ø–æ–±—É–¥–æ–≤—É –ø–æ—Å–∏–ª–∞–Ω—å.
üîπ –ü–æ–ª–µ–≥—à—É—î –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è –Ω–æ–≤–∏—Ö –ø–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫—ñ–≤ —á–µ—Ä–µ–∑ —É–∑–≥–æ–¥–∂–µ–Ω–∏–π API.
"""

from __future__ import annotations

# üî† –°–∏—Å—Ç–µ–º–Ω—ñ —ñ–º–ø–æ—Ä—Ç–∏
from typing import Optional, Protocol  # üß∞ –ë–∞–∑–æ–≤—ñ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∏ —Ç–∞ Nullable-–ø–æ–ª—è

# ================================
# üîó –ü–†–û–¢–û–ö–û–õ –°–¢–†–ê–¢–ï–ì–Ü–á URL
# ================================
class IUrlParsingStrategy(Protocol):
    """–ö–æ–Ω—Ç—Ä–∞–∫—Ç —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó –ø–∞—Ä—Å–∏–Ω–≥—É/–Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—ó URL –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –±—Ä–µ–Ω–¥—É."""

    def supports(self, domain: str) -> bool:
        """–ü–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ –ø—ñ–¥—Ç—Ä–∏–º—É—î —Å—Ç—Ä–∞—Ç–µ–≥—ñ—è –ø–µ—Ä–µ–¥–∞–Ω–∏–π –¥–æ–º–µ–Ω."""
        raise NotImplementedError

    def get_currency(self, url: str) -> Optional[str]:
        """–ü–æ–≤–µ—Ä—Ç–∞—î –∫–æ–¥ –≤–∞–ª—é—Ç–∏ –¥–ª—è URL, —è–∫—â–æ –π–æ–≥–æ –º–æ–∂–ª–∏–≤–æ –≤–∏–∑–Ω–∞—á–∏—Ç–∏."""
        raise NotImplementedError

    def get_region_label(self, url: str) -> str:
        """–í–∏—Ç—è–≥—É—î –ª—é–¥–∏–Ω–æ–∑—Ä–æ–∑—É–º—ñ–ª—É –Ω–∞–∑–≤—É —Ä–µ–≥—ñ–æ–Ω—É —ñ–∑ URL."""
        raise NotImplementedError

    def get_base_url(self, currency: str) -> Optional[str]:
        """–ë—É–¥—É—î –±–∞–∑–æ–≤–∏–π URL –¥–ª—è –≤–∞–ª—é—Ç–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–ª—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ñ–≤ –ø–æ—Å–∏–ª–∞–Ω—å)."""
        raise NotImplementedError

    def build_product_url(self, region_code: str, product_path: str) -> Optional[str]:
        """–§–æ—Ä–º—É—î –ø–æ–≤–Ω–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Ç–æ–≤–∞—Ä –∑–∞ —Ä–µ–≥—ñ–æ–Ω–æ–º —ñ —à–ª—è—Ö–æ–º."""
        raise NotImplementedError

    def is_product_url(self, url: str) -> bool:
        """–ü–æ–≤–µ—Ä—Ç–∞—î True, —è–∫—â–æ URL –Ω–∞–ª–µ–∂–∏—Ç—å —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ —Ç–æ–≤–∞—Ä—É."""
        raise NotImplementedError

    def is_collection_url(self, url: str) -> bool:
        """–ü–æ–≤–µ—Ä—Ç–∞—î True, —è–∫—â–æ URL –≤–∫–∞–∑—É—î –Ω–∞ –∫–æ–ª–µ–∫—Ü—ñ—é/–∫–∞—Ç–µ–≥–æ—Ä—ñ—é."""
        raise NotImplementedError

    def extract_product_slug(self, url: str) -> Optional[str]:
        """–í–∏–¥–æ–±—É–≤–∞—î slug —Ç–æ–≤–∞—Ä—É –∞–±–æ `None`, —è–∫—â–æ –∑—Ä–æ–±–∏—Ç–∏ —Ü–µ –Ω–µ–º–æ–∂–ª–∏–≤–æ."""
        raise NotImplementedError
