# ‚öôÔ∏è app/config/yamls/base/60_playwright.yaml
# üåê –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è WebDriver/Playwright
# –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è `WebDriverService` –¥–ª—è –æ–±—Ö–æ–¥—É Cloudflare –π —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –±—Ä–∞—É–∑–µ—Ä–æ–º.

# ================================
# üß≠ –ë–ê–ó–û–í–Ü –ü–ê–†–ê–ú–ï–¢–†–ò
# ================================
playwright:
  user_agent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.0.0 Safari/537.36"  # üï∏Ô∏è –ú–∞—Å–∫—É—î–º–æ—Å—è –ø—ñ–¥ Chrome
  headless: true                           # üëª true = –±–µ–∑ GUI, –∑—Ä—É—á–Ω–æ –¥–ª—è –ø—Ä–æ–¥
  devtools:
    enabled: false                         # üõ†Ô∏è –í–º–∏–∫–∞–π –ø—ñ–¥ —á–∞—Å –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –¥–µ–±–∞–≥—É
    mode: "playwright"                     # üß™ "playwright" | "cdp"
    remote_debugging_port: 0               # üîå –î–ª—è CDP: 0 = –∞–≤—Ç–æ, >0 = —Ä—É—á–Ω–∏–π –ø–æ—Ä—Ç

  launch_channel: "chrome"                 # üåê –ö–∞–Ω–∞–ª –±—Ä–∞—É–∑–µ—Ä–∞ ("chrome"|"msedge"|...)

  # ================================
  # üîÑ –†–ï–¢–†–ê–á –¢–ê ANTI-BOT
  # ================================
  retry_attempts: 5                        # üîÅ –°–∫—ñ–ª—å–∫–∏ —Ä–∞–∑—ñ–≤ –ø–æ–≤—Ç–æ—Ä—é—î–º–æ –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏
  retry_delay_sec: 2                       # ‚è±Ô∏è –ü–∞—É–∑–∞ –º—ñ–∂ –ø–æ–≤—Ç–æ—Ä–∞–º–∏
  enable_stealth: true                     # üïµÔ∏è –£–≤—ñ–º–∫–Ω—É—Ç–∏ playwright-stealth

  navigation_timeout_ms: 30000             # ‚è≥ –¢–∞–π–º–∞—É—Ç –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó, –º—Å
  network_idle_wait_ms: 1500               # üí§ –û—á—ñ–∫—É–≤–∞–Ω–Ω—è –ø—ñ—Å–ª—è networkidle, –º—Å

  cloudflare_phrases:                      # ‚úÖ –ü–∞—Ç–µ—Ä–Ω–∏ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è Cloudflare
    - "your connection needs to be verified"    # üîê –¢–∏–ø–æ–≤–∏–π –±–∞–Ω–µ—Ä –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏
    - "please complete the security check"      # üîç –ó–∞–ø–∏—Ç reCAPTCHA/Turnstile
    - "verifying you are human"                 # ü§ñ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ª—é–¥—è–Ω–æ—Å—Ç—ñ
    - "checking your browser before accessing"  # üîÑ Cloudflare –ø–µ—Ä–µ–≤—ñ—Ä—è—î –±—Ä–∞—É–∑–µ—Ä
    - "just a moment..."                        # üìù –ß–∞—Å—Ç–æ –≤ <body>
    - "cf-challenge"                            # üß± –¢–æ–∫–µ–Ω –≤–∏–∫–ª–∏–∫—É CF
    - "attention required! cloudflare"          # üö® –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è

  # ================================
  # ‚ú® –¢–†–ê–°–£–í–ê–ù–ù–Ø (IMP-035)
  # ================================
  trace:
    enabled: false                        # üìº –í–≤—ñ–º–∫–Ω–∏ –ø–µ—Ä–µ–¥ –≤—ñ–¥–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è–º
    mode: "retain-on-failure"             # "on" | "retain-on-failure"
    # dir: "./var/traces"                 # üîÅ –Ø–∫—â–æ –Ω–µ –∑–∞–¥–∞–Ω–æ, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è files.traces_dir
