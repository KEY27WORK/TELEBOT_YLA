# üß∞ app/config/setup ‚Äî ¬´–ø–∞–∫–µ—Ç —Å–∫–ª–∞–¥–∞–Ω–Ω—è¬ª
"""
üß∞ –¢—É—Ç –∂–∏–≤–µ –≤—Å—è —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞, —è–∫–∞ –ø–æ–≤‚Äô—è–∑—É—î Telegram-–±–æ—Ç–∞ –∑ DI-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º.

üîπ –ó–±–µ—Ä—ñ–≥–∞—î —Ç–∏–ø–æ–±–µ–∑–ø–µ—á–Ω—ñ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∏ (UI, –ª–æ–≥—ñ–∫–∞, callback-–∏, –º–∞–ø–∏ –≤–∞–ª—é—Ç/–¥–æ—Å—Ç–∞–≤–∫–∏)
üîπ –°—Ç–≤–æ—Ä—é—î –≤—Å—ñ —Å–µ—Ä–≤—ñ—Å–∏/—Ö–µ–Ω–¥–ª–µ—Ä–∏ –≤ –æ–¥–Ω–æ–º—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ –π –ø–µ—Ä–µ–¥–∞—î —ó—Ö —É –±–æ—Ç
üîπ –†–µ—î—Å—Ç—Ä—É—î –∫–æ–º–∞–Ω–¥–∏ —Ç–∞ –≥–ª–æ–±–∞–ª—å–Ω—ñ –æ–±—Ä–æ–±–Ω–∏–∫–∏ –∑ —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–º error-–¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–º
"""

> –°—Ç–∏–ª—å —ñ —Ñ–æ—Ä–º–∞—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞ —É–∑–≥–æ–¥–∂–µ–Ω—ñ –∑—ñ `docs/STYLEGUIDE.md`: –µ–º–æ–¥–∑—ñ-–∑–∞–≥–æ–ª–æ–≤–æ–∫, –¥–æ–∫—Å—Ç—Ä–∏–Ω–≥, –º–∞—Ä–∫–æ–≤–∞–Ω—ñ —Å–ø–∏—Å–∫–∏.

---

## üì¶ –©–æ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ

| –§–∞–π–ª | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è |
| --- | --- |
| `constants.py` | –°—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–∏–π –Ω–∞–±—ñ—Ä –∫–æ–Ω—Å—Ç–∞–Ω—Ç (`AppConstants`). –°–µ–∫—Ü—ñ—ó `UI`, `LOGIC`, `CALLBACKS`, –º–∞–ø–∏ –≤–∞–ª—é—Ç/–¥–æ—Å—Ç–∞–≤–∫–∏, legacy `CONST` —Ç–∞ `generate_menu_pattern()`. |
| `container.py` | DI-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä. –ë—É–¥—É—î —É—Ç–∏–ª—ñ—Ç–∏ ‚Üí AI ‚Üí –¥–æ–º–µ–Ω ‚Üí –º–µ–Ω–µ–¥–∂–µ—Ä–∏ ‚Üí high-level —Å–µ—Ä–≤—ñ—Å–∏ ‚Üí —Ñ—ñ—á—ñ. –õ–æ–≥—É—î –∫–æ–∂–µ–Ω –∫—Ä–æ–∫, –µ–∫—Å–ø–æ—Ä—Ç—É—î CallbackRegistry —Ç–∞ –≥–æ—Ç–æ–≤—ñ –æ–±—Ä–æ–±–Ω–∏–∫–∏. |
| `bot_registrar.py` | –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∏–π —Ä–µ—î—Å—Ç—Ä–∞—Ç–æ—Ä —Ö–µ–Ω–¥–ª–µ—Ä—ñ–≤ Telegram. –î–µ–ª–µ–≥—É—î —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—é —Ñ—ñ—á–∞–º, –¥–æ–¥–∞—î CallbackQuery/Reply-–º–µ–Ω—é/LinkHandler —á–µ—Ä–µ–∑ error-–¥–µ–∫–æ—Ä–∞—Ç–æ—Ä. |
| `__init__.py` | –ü—É–±–ª—ñ—á–Ω–∏–π API –ø–∞–∫–µ—Ç–∞: –µ–∫—Å–ø–æ—Ä—Ç—É—î `AppConstants`, `CONST`, `generate_menu_pattern`, `Container`, `BotRegistrar`. –î–æ–∫—Å—Ç—Ä–∏–Ω–≥ –ø–æ—è—Å–Ω—é—î —Ä–æ–ª—å –ø–∞–∫–µ—Ç–∞ —Ç–∞ –ø—Ä–∞–≤–∏–ª–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è. |

---

## üß≠ –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω—ñ –ø—Ä–∏–Ω—Ü–∏–ø–∏
- **–ñ–æ–¥–Ω–æ—ó –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∏** ‚Äî —Ç—ñ–ª—å–∫–∏ –∫–æ–Ω—Ñ—ñ–≥, DI —Ç–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è.
- **–°—Ç–∞–±—ñ–ª—å–Ω—ñ –∫–æ—Ä–¥–æ–Ω–∏:** –≤–µ—Ä—Ö–Ω—ñ —à–∞—Ä–∏ (`app.bot.*`) –∑–∞–ª–µ–∂–∞—Ç—å –≤—ñ–¥ `setup`, –∞–ª–µ –Ω–µ –Ω–∞–≤–ø–∞–∫–∏.
- **–Ñ–¥–∏–Ω–∞ —Ç–æ—á–∫–∞ –≤—Ö–æ–¥—É:** —ñ–º–ø–æ—Ä—Ç—É–π—Ç–µ `CONST`, `Container`, `BotRegistrar` —á–µ—Ä–µ–∑ `app.config.setup`.
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è == –∫–æ–¥:** —É—Å—ñ –º–æ–¥—É–ª—ñ –º–∞—é—Ç—å –≥–æ–ª–æ–≤–Ω–∏–π –∫–æ–º–µ–Ω—Ç–∞—Ä, –¥–æ–∫—Å—Ç—Ä–∏–Ω–≥ —ñ —Å–µ–∫—Ü—ñ–π–Ω—ñ ¬´–ø–∞—Ä–∫–∞–Ω—á–∏–∫–∏¬ª –∑ –µ–º–æ–¥–∑—ñ.

---

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç
```python
from telegram.ext import ApplicationBuilder
from app.config.config_service import ConfigService
from app.config.setup import Container, BotRegistrar

config = ConfigService()                                                # ‚öôÔ∏è Singleton –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
container = Container(config)                                           # üì¶ DI-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

app = ApplicationBuilder().token("YOUR_TOKEN").build()                  # ü§ñ Telegram Application (v21+)

registrar = BotRegistrar(app, container)                                # üßæ –†–µ—î—Å—Ç—Ä—É—î–º–æ –≤—Å—ñ —Ö–µ–Ω–¥–ª–µ—Ä–∏
registrar.register_handlers()

app.run_polling(allowed_updates=app.allowed_updates)                    # ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫–∞—î–º–æ –±–æ—Ç–∞
```

---

## üì§ –ï–∫—Å–ø–æ—Ä—Ç–æ–≤–∞–Ω—ñ —Å–∏–º–≤–æ–ª–∏
```python
from app.config.setup import CONST, AppConstants, Container, BotRegistrar, generate_menu_pattern
```
- `CONST`, `AppConstants` ‚Äî –¥–æ—Å—Ç—É–ø –¥–æ –∫–æ–Ω—Å—Ç–∞–Ω—Ç (—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–∏–π —ñ –ø–ª–æ—Å–∫–∏–π API).
- `Container` ‚Äî —î–¥–∏–Ω–∞ —Ç–æ—á–∫–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–µ—Ä–≤—ñ—Å—ñ–≤.
- `BotRegistrar` ‚Äî —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è —Ö–µ–Ω–¥–ª–µ—Ä—ñ–≤.
- `generate_menu_pattern()` ‚Äî legacy-–ø–∞—Ç–µ—Ä–Ω –¥–ª—è Reply-–º–µ–Ω—é.
