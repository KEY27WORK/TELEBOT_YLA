# üßæ app/errors/reason_codes.py
"""
üßæ –ü–µ—Ä–µ–ª—ñ–∫ ReasonCode ‚Äî —É–Ω—ñ—Ñ—ñ–∫–æ–≤–∞–Ω—ñ –ø—Ä–∏—á–∏–Ω–∏ –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–∏—Ö –ø–æ–º–∏–ª–æ–∫.

üîπ –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è `reason_mapper` —Ç–∞ `error_presenter`, —â–æ–± –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏ –∑—Ä–æ–∑—É–º—ñ–ª—ñ –ø—Ä–∏—á–∏–Ω–∏.  
üîπ –ö–æ–¥–∏ –∑–≥—Ä—É–ø–æ–≤–∞–Ω—ñ –∑–∞ —Ç–∏–ø–∞–º–∏: –≤–∞–ª—ñ–¥–∞—Ü—ñ—è, –ø–∞—Ä—Å–∏–Ω–≥, –º–µ—Ä–µ–∂–∞, Telegram, AI, –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ.  
üîπ –î–æ–ø–æ–º–∞–≥–∞—î –±—É–¥—É–≤–∞—Ç–∏ —Å—Ç–∞–±—ñ–ª—å–Ω—ñ –ª–æ–≥-–∫–ª—é—á—ñ —Ç–∞ –∞–Ω–∞–ª—ñ—Ç–∏–∫—É.
"""

from __future__ import annotations

# üåê –ó–æ–≤–Ω—ñ—à–Ω—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏
# (–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è)												# üö´

# üî† –°–∏—Å—Ç–µ–º–Ω—ñ —ñ–º–ø–æ—Ä—Ç–∏
import logging														# üßæ –õ–æ–≥—É–≤–∞–Ω–Ω—è –¥–æ—Å—Ç—É–ø—É
from enum import Enum, auto											# üßÆ –ë–∞–∑–æ–≤–∏–π Enum

# üß© –í–Ω—É—Ç—Ä—ñ—à–Ω—ñ –º–æ–¥—É–ª—ñ –ø—Ä–æ—î–∫—Ç—É
# (–Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω—ñ)														# üö´


# ================================
# üßæ –õ–û–ì–ï–†
# ================================
logger = logging.getLogger("app.errors.reason_codes")				# üßæ –õ–æ–∫–∞–ª—å–Ω–∏–π –ª–æ–≥–µ—Ä


# ================================
# üßÆ ENUM –ü–†–ò–ß–ò–ù
# ================================
class ReasonCode(Enum):
    """üßÆ –ö–∞—Ç–∞–ª–æ–≥ –ø—Ä–∏—á–∏–Ω, —è–∫—ñ –ø–æ–∫–∞–∑—É—î–º–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É/–ª–æ–≥–∞–º."""

    # ----- –í–∞–ª—ñ–¥–∞—Ü—ñ—è –ø–æ—Å–∏–ª–∞–Ω—å -----
    LINK_INVALID = auto()											# üîó –ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–µ —Å—Ö–æ–∂–µ –Ω–∞ URL
    URL_NOT_PRODUCT = auto()										# üõí URL –Ω–µ –≤–∫–∞–∑—É—î –Ω–∞ —Ç–æ–≤–∞—Ä

    # ----- –î–æ–º–µ–Ω: —Ç–æ–≤–∞—Ä/–∑–∞–ø–∞—Å–∏ -----
    PRODUCT_NOT_FOUND = auto()										# üïµÔ∏è –¢–æ–≤–∞—Ä –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ
    OUT_OF_STOCK = auto()											# ‚ùå –ù–µ–º–∞—î –≤ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ
    REGION_NOT_RECOGNIZED = auto()									# üåç –ù–µ–≤—ñ–¥–æ–º–∏–π —Ä–µ–≥—ñ–æ–Ω

    # ----- –ü–∞—Ä—Å–∏–Ω–≥/HTTP -----
    PARSE_FAILED = auto()											# üßæ –ù–µ –≤–¥–∞–ª–æ—Å—è —Ä–æ–∑–ø–∞—Ä—Å–∏—Ç–∏
    HTTP_TIMEOUT = auto()											# ‚è±Ô∏è HTTP –≤—ñ–¥–ø–æ–≤—ñ–≤ –∑–∞–Ω–∞–¥—Ç–æ –¥–æ–≤–≥–æ
    HTTP_CONNECTION = auto()										# üåê –ó º—î–¥–Ω–∞–Ω–Ω—è –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
    HTTP_STATUS = auto()											# üî¢ –ù–µ–æ—á—ñ–∫—É–≤–∞–Ω–∏–π —Å—Ç–∞—Ç—É—Å

    # ----- Telegram -----
    TELEGRAM_RETRY_AFTER = auto()									# ‚è≥ Telegram –ø—Ä–æ—Å–∏—Ç—å retry_after
    TELEGRAM_GENERAL = auto()										# ü§ñ –ó–∞–≥–∞–ª—å–Ω–∞ –ø–æ–º–∏–ª–∫–∞ Telegram

    # ----- AI -----
    AI_RATE_LIMIT = auto()											# üö¶ –ü–µ—Ä–µ–≤–∏—â–µ–Ω–æ –ª—ñ–º—ñ—Ç OpenAI
    AI_GENERAL = auto()												# ü§ñ –Ü–Ω—à–∞ AI-–ø–æ–º–∏–ª–∫–∞

    # ----- –í–Ω—É—Ç—Ä—ñ—à–Ω—î -----
    INTERNAL = auto()												# üß± –ù–µ–≤—ñ–¥–æ–º–∞ –≤–Ω—É—Ç—Ä—ñ—à–Ω—è –ø–æ–º–∏–ª–∫–∞

    def __str__(self) -> str:
        """–ü–æ–≤–µ—Ä—Ç–∞—î —ñ–º º—è –¥–ª—è –∑—Ä—É—á–Ω–æ–≥–æ –ª–æ–≥—É–≤–∞–Ω–Ω—è."""
        return self.name


logger.debug("üßæ ReasonCode enum loaded (%d items)", len(ReasonCode))	# ü™µ –î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—ñ–¥ —á–∞—Å —ñ–º–ø–æ—Ä—Ç—É

__all__ = ["ReasonCode"]											# üì§ –ü—É–±–ª—ñ—á–Ω–∏–π API
